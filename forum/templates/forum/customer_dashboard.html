{% extends "forum/base.html" %}

{% block sidebar_links %}
<a href="{% url 'customer_dashboard' %}" class="sidebar-link active">ğŸ  Dashboard</a>
<a href="{% url 'profile' %}" class="sidebar-link">ğŸ‘¤ Profile</a>
<a href="{% url 'contact_admin' %}" class="sidebar-link">âœ‰ï¸ Contact Admin</a>
<a href="{% url 'logout' %}" class="sidebar-link">ğŸšª Logout</a>
{% endblock %}

{% block content %}
<h1 class="page-title">Welcome, {{ user.username }}</h1>

<div class="cards-container">
    {% for post in uploads %}
    <div class="card">
        {% if post.image %}
        <img src="{{ post.image.url }}" alt="{{ post.title }}" class="card-img">
        {% endif %}
        {% if post.video %}
        <video controls class="card-video">
            <source src="{{ post.video.url }}" type="video/mp4">
        </video>
        {% endif %}
        <div class="card-icon">ğŸ“</div>
        <h3>{{ post.title }}</h3>
        <p>{{ post.description|truncatechars:100 }}</p>
        {% if post.category %}
        <p><strong>Category:</strong> {{ post.category.name }}</p>
        {% endif %}
        {% if post.link %}
        <p>ğŸ”— <a href="{{ post.link }}" target="_blank">{{ post.link }}</a></p>
        {% endif %}
        <p><strong>Author:</strong> {{ post.user.username }}</p>
        <a href="{% url 'forum_detail' post.id %}" class="btn-view">View Details</a>
    </div>
    {% empty %}
    <p>No posts yet.</p>
    {% endfor %}
</div>

{% include 'forum/cards_styles.html' %}
{% endblock %}
