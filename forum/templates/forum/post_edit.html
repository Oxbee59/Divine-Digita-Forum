{% extends "forum/base.html" %}

{% block sidebar_links %}
<a href="{% url 'admin_dashboard' %}" class="sidebar-link">ğŸ  Dashboard</a>
<a href="{% url 'manage_users' %}" class="sidebar-link">ğŸ‘¥ Manage Users</a>
<a href="{% url 'manage_posts' %}" class="sidebar-link active">ğŸ“ Manage Posts</a>
<a href="{% url 'admin_messages' %}" class="sidebar-link">âœ‰ï¸ Customer Messages</a>
<a href="{% url 'logout' %}" class="sidebar-link">ğŸšª Logout</a>
{% endblock %}

{% block content %}
<h1 class="page-title">Edit Post</h1>

<div class="cards-container">
    <div class="card">
        <h3>âœï¸ Editing: {{ form.instance.title }}</h3>

        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}

            <label>Title</label>
            {{ form.title }}

            <label>Description</label>
            {{ form.description }}

            <label>Category</label>
            {{ form.category }}

            <label>Video (optional)</label>
            {% if form.instance.video %}
            <video controls class="card-video">
                <source src="{{ form.instance.video.url|replace:'upload/','upload/w_900,h_500,c_fill,f_auto,q_auto/' }}">
            </video>
            {% endif %}
            {{ form.video }}

            <label>Image (optional)</label>
            {% if form.instance.image %}
            <img src="{{ form.instance.image.url|replace:'upload/','upload/w_900,h_500,c_fill,f_auto,q_auto/' }}" class="card-img">
            {% endif %}
            {{ form.image }}

            <label>External Link (optional)</label>
            {{ form.link }}

            <button type="submit" class="btn btn-green" style="margin-top:10px;">Update Post</button>
        </form>
    </div>
</div>

{% endblock %}
